<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
  <meta charset="UTF-8">
  <title>회원가입 동의</title>
  <th:block th:replace="fragments/head :: headFragment"></th:block>
</head>

<style>
  .container {
    margin-left:auto; 
    margin-bottom:auto;
  }

  .join_info set-bg {
    height:10%;
  }

  .join_text {
    text-align: center; margin-top: 5%;
  }

  .join_info set-bg {
    height:90%;
  }

  #logo {
    margin: 100px 0 70px 0;
    text-align: center;
  }

  #explain {
    margin-left: auto;
    margin-right: auto;
  }

  td {
    height: 200px;
  }

  #must {
    color: #cc0000;
  }

  #option {
    color: #08a600;
  }

  #button_area {
    text-align: center;
    margin-bottom: 100px;
  }

  .btn {
    width: 200px;
    height: 50px;
    margin-right: 30px;
    border: 1px solid darkgrey;
    background-color: lightgray;
  }

  #cancle:hover  {
    cursor: pointer;
    background-color: indianred;
    border: 1px solid indianred;
  }

  #confirm:hover {
    cursor: pointer;
    background-color: darkseagreen;
    border: 1px solid darkseagreen;
    font-weight: bold;
    font-size: 15px;
  }

  textarea {
    resize: none;
    width: 800px;
    height: 100px;
    overflow-x: auto;
  }

  /* 프로모션 약관  */
  #no-border{
    border: 1;
    overflow-x: hidden;
    overflow-y: hidden;
  }

  /* 약관 클릭 시 포커싱 빼기 */
  textarea:focus {
    outline: none;
  }

</style>

<script th:inline="javascript">
  const chkOption = document.getElementsByName('checkOption');
  
  function selectAll(chkAll)
  {
    chkOption.forEach((chk) => {
      if(chk.checked)
      {
        chk.checked = chkAll.checked;
      }
      else
      {
        chk.checked = chkAll.checked;
      }
    });
  }
  
  function chkOptions(chk)
  {
    if(chkOption[0].checked)
    {
      if(!chk.checked)
      {
        chkOption[0].checked = chk.checked;
      }
      else
      {
        chkOption[0].checked = chk.checked;
      }
    }
  }

  function confirmBtn()
  {
    let option = '';

    for(let i = 0; i < chkOption.length; i++)
    {
      if(chkOption[i].value == 'Y')
      {
       if(!chkOption[i].checked)
        {
          alert('필수 항목을 체크해주세요');
          return false;
        }
      }

      if(chkOption[i].value == 'P' && chkOption[i].checked)
      {
        option = 'P';
      }
      else
      {
        option = 'N';
      }
    } 
    
    location.href = '/joininfo?option='+option;
  }

</script>

<body>
  <th:block th:replace="fragments/header :: headerFragment"></th:block>
  
  <section class="hero">
    <div class="container">

      <div class="join_info set-bg">
        <div class="join_text">
          <h3><b>회원가입</b></h3>
          <hr>
        </div>
      </div>

      <div class="join_info set-bg">
        <div class="join_text">
          <form id="join_form">
            <table id="explain">
              <tr>
                <td>
                  <input type="checkbox" name="checkOption" value="all" onclick="selectAll(this);"> 캠고 이용약관, 개인정보 수집 및 이용, 위치정보 이용약관(선택), 프로모션 정보 수신(선택) 에 모두 동의합니다.
                </td>
              </tr>
              <tr>
                <td>
                  <input type="checkbox" name="checkOption" value="Y" onclick="chkOptions(this);"> 개인정보 이용약관 동의 <span id="must">(필수)</span>
                  <br><br>

                  <div>
                    <textarea readonly>약관 어쩌구저쩌구</textarea>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <input type="checkbox" name="checkOption" value="Y" onclick="chkOptions(this);"> 위치정보 이용약관 동의 <span id="must">(필수)</span>
                  <br><br>

                  <div>
                    <textarea readonly>약관 어쩌구저쩌구</textarea>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <input type="checkbox" name="checkOption" value="P" onclick="chkOptions(this);"> 프로모션 정보 수신 동의 <span id="option">(선택)</span>
                  <br><br>

                  <div>
                    <textarea id="no-border" readonly>캠고에서 제공하는 이벤트/혜택 등 다양한 정보를 휴대전화(알림 또는 문자), 이메일로 받아보실 수 있습니다.일부 서비스(별도 회원 체계로 운영하거나 캠고 가입 이후 추가 가입하여 이용하는 서비스 등)의 경우,개별 서비스에 대해 별도 수신 동의를 받을 수 있으며, 이때에도 수신 동의에 대해 별도로 안내하고 동의를 받습니다.
                    </textarea>
                  </div>
                </td>
              </tr>
            </table>

            <div id="button_area">
              <input type="button" id="cancle" class="btn" value="취소">
              <input type="button" id="confirm" class="btn" value="확인" onclick="confirmBtn();">
            </div>

          </form>
        </div>

      </div>
    </div>

    <div style="text-align:center;">

    </div>
  </section>  
  <!-- Hero Section End -->
  <th:block th:replace="fragments/footer :: footerFragment"></th:block>


</body>
</html>
